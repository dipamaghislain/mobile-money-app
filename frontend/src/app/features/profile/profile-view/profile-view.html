<div class="profile-container">

    <!-- HEADER HERO -->
    <div class="gradient-hero">
        <div class="header-nav">
            <button class="back-btn" (click)="goBack()">
                <mat-icon>arrow_back</mat-icon>
            </button>
            <h1>Mon Profil</h1>
        </div>

        <div class="profile-summary">
            <div class="avatar-container">
                <div class="avatar">
                    <span>{{ initials() }}</span>
                </div>
            </div>
            <h2>{{ user()?.nomComplet }}</h2>
            <span class="phone-number">{{ user()?.telephone }}</span>
        </div>
    </div>

    <!-- CONTENT -->
    <div class="content-wrapper">

        <!-- INFO PERSONNELLES -->
        <mat-card class="info-card">
            <div class="card-header-row">
                <h3>Informations personnelles</h3>
                <button mat-icon-button color="primary" routerLink="/profile/edit">
                    <mat-icon>edit</mat-icon>
                </button>
            </div>
            <div class="info-list">
                <div class="info-item">
                    <div class="icon-box">
                        <mat-icon>phone</mat-icon>
                    </div>
                    <div class="info-text">
                        <span class="label">Téléphone</span>
                        <span class="value">{{ user()?.telephone }}</span>
                    </div>
                </div>

                @if (user()?.email) {
                <div class="info-item">
                    <div class="icon-box">
                        <mat-icon>mail</mat-icon>
                    </div>
                    <div class="info-text">
                        <span class="label">Email</span>
                        <span class="value">{{ user()?.email }}</span>
                    </div>
                </div>
                }

                <div class="info-item">
                    <div class="icon-box">
                        <mat-icon>calendar_today</mat-icon>
                    </div>
                    <div class="info-text">
                        <span class="label">Membre depuis</span>
                        <span class="value">{{ user()?.dateCreation | date:'MMMM yyyy':'':'fr' }}</span>
                    </div>
                </div>
            </div>
        </mat-card>

        <!-- STATS GRID -->
        <div class="stats-grid">
            <mat-card class="stat-card">
                <div class="stat-label">Solde compte</div>
                <div class="stat-value">{{ balance() | number }} XOF</div>
            </mat-card>
            <mat-card class="stat-card">
                <div class="stat-label">Épargne</div>
                <div class="stat-value success">{{ savings() | number }} XOF</div>
            </mat-card>
        </div>

        <!-- MENU NAVIGATION -->
        <mat-card class="menu-card">
            <button class="menu-item" matRipple routerLink="/settings">
                <div class="icon-box">
                    <mat-icon>shield</mat-icon>
                </div>
                <span>Sécurité</span>
                <mat-icon class="chevron">chevron_right</mat-icon>
            </button>

            <mat-divider></mat-divider>

            <button class="menu-item" matRipple (click)="tempAction('Notifications')">
                <div class="icon-box">
                    <mat-icon>notifications</mat-icon>
                </div>
                <span>Notifications</span>
                <mat-icon class="chevron">chevron_right</mat-icon>
            </button>

            <mat-divider></mat-divider>

            <button class="menu-item" matRipple (click)="tempAction('Aide')">
                <div class="icon-box">
                    <mat-icon>help</mat-icon>
                </div>
                <span>Aide & Support</span>
                <mat-icon class="chevron">chevron_right</mat-icon>
            </button>

            <mat-divider></mat-divider>

            <button class="menu-item logout" matRipple (click)="logout()">
                <div class="icon-box">
                    <mat-icon>logout</mat-icon>
                </div>
                <span>Déconnexion</span>
            </button>
        </mat-card>

    </div>

    <!-- BOTTOM NAV -->
    <nav class="bottom-nav">
        <a class="nav-item" routerLink="/dashboard">
            <mat-icon>home</mat-icon>
            <span>Accueil</span>
        </a>
        <a class="nav-item" routerLink="/transactions/history">
            <mat-icon>history</mat-icon>
            <span>Historique</span>
        </a>
        <a class="nav-item active" routerLink="/profile">
            <mat-icon>person</mat-icon>
            <span>Profil</span>
        </a>
        <a class="nav-item" routerLink="/settings">
            <mat-icon>settings</mat-icon>
            <span>Paramètres</span>
        </a>
    </nav>
</div>