<div class="settings-container">
    <!-- Header -->
    <header class="page-header">
        <button class="back-btn" (click)="goBack()">
            <mat-icon>arrow_back</mat-icon>
        </button>
        <h1>Paramètres</h1>
    </header>

    <div class="settings-content">
        <!-- Préférences Section -->
        <section class="settings-section">
            <h2 class="section-title">Préférences</h2>
            <div class="settings-card">
                <div class="settings-item" (click)="toggleDarkMode()">
                    <div class="item-icon">
                        <mat-icon>dark_mode</mat-icon>
                    </div>
                    <span class="item-label">Mode sombre</span>
                    <mat-slide-toggle [checked]="darkMode()" (click)="$event.stopPropagation()"
                        (change)="toggleDarkMode()">
                    </mat-slide-toggle>
                </div>

                <div class="settings-item" matRipple (click)="openLanguageSelection()">
                    <div class="item-icon">
                        <mat-icon>language</mat-icon>
                    </div>
                    <div class="item-content">
                        <span class="item-label">Langue</span>
                        <span class="item-value">{{ currentLanguage() }}</span>
                    </div>
                    <mat-icon class="chevron">chevron_right</mat-icon>
                </div>
            </div>
        </section>

        <!-- Sécurité Section -->
        <section class="settings-section">
            <h2 class="section-title">Sécurité</h2>
            <div class="settings-card">
                <div class="settings-item" matRipple (click)="openChangePIN()">
                    <div class="item-icon">
                        <mat-icon>lock</mat-icon>
                    </div>
                    <span class="item-label">Changer le code PIN</span>
                    <mat-icon class="chevron">chevron_right</mat-icon>
                </div>

                <div class="settings-item" (click)="toggleBiometric()">
                    <div class="item-icon">
                        <mat-icon>fingerprint</mat-icon>
                    </div>
                    <span class="item-label">Authentification biométrique</span>
                    <mat-slide-toggle [checked]="biometricAuth()" (click)="$event.stopPropagation()"
                        (change)="toggleBiometric()">
                    </mat-slide-toggle>
                </div>
            </div>
        </section>

        <!-- Compte Section -->
        <section class="settings-section">
            <h2 class="section-title">Compte</h2>
            <div class="settings-card">
                <div class="settings-item" matRipple (click)="openLinkedCards()">
                    <div class="item-icon">
                        <mat-icon>credit_card</mat-icon>
                    </div>
                    <span class="item-label">Cartes liées</span>
                    <mat-icon class="chevron">chevron_right</mat-icon>
                </div>
            </div>
        </section>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <a class="nav-item" routerLink="/dashboard">
            <mat-icon>home</mat-icon>
            <span>Accueil</span>
        </a>
        <a class="nav-item" routerLink="/transactions/history">
            <mat-icon>history</mat-icon>
            <span>Historique</span>
        </a>
        <a class="nav-item" routerLink="/profile">
            <mat-icon>person_outline</mat-icon>
            <span>Profil</span>
        </a>
        <a class="nav-item active" routerLink="/settings">
            <mat-icon>settings</mat-icon>
            <span>Paramètres</span>
        </a>
    </nav>
</div>